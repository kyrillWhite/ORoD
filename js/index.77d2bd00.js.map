{"version":3,"file":"js/index.77d2bd00.js","mappings":"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","sources":["webpack://orod/./src/App.vue","webpack://orod/./src/components/MainPart.vue","webpack://orod/./src/models/ErrorPopUp.js","webpack://orod/./src/components/DocumentPart.vue","webpack://orod/./src/components/DocumentElement.vue","webpack://orod/./src/components/DocumentDetails/IntermediateResult.vue","webpack://orod/./src/components/DocumentDetails/IntermediateResult.vue?b3bf","webpack://orod/./src/components/DocumentDetails/RankResult.vue","webpack://orod/./src/components/DocumentDetails/RankResult.vue?c947","webpack://orod/./src/components/DocumentElement.vue?52cb","webpack://orod/./src/components/DocumentPart.vue?e464","webpack://orod/./src/components/LoadPart.vue","webpack://orod/./src/models/Ontology.js","webpack://orod/./src/services/Attach.js","webpack://orod/./src/services/Rank.js","webpack://orod/./src/models/RankingDocument.js","webpack://orod/./src/services/LoadFiles.js","webpack://orod/./src/components/LoadForm.vue","webpack://orod/./src/components/LoadForm.vue?55c3","webpack://orod/./src/components/LoadPart.vue?9f61","webpack://orod/./src/components/ParameterPart.vue","webpack://orod/./src/components/ParameterText.vue","webpack://orod/./src/components/ParameterText.vue?2e0d","webpack://orod/./src/components/ParameterPart.vue?39f4","webpack://orod/./src/components/MainPart.vue?fc2f","webpack://orod/./src/App.vue?7ccd","webpack://orod/./src/main.js","webpack://orod/webpack/bootstrap","webpack://orod/webpack/runtime/chunk loaded","webpack://orod/webpack/runtime/compat get default export","webpack://orod/webpack/runtime/define property getters","webpack://orod/webpack/runtime/global","webpack://orod/webpack/runtime/hasOwnProperty shorthand","webpack://orod/webpack/runtime/jsonp chunk loading","webpack://orod/webpack/startup"],"sourcesContent":["<template>\r\n  <main-part/>\r\n</template>\r\n\r\n<script>\r\nimport MainPart from './components/MainPart.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    MainPart\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"page\">\r\n    <header class=\"header\">\r\n      <h1 class=\"header__logo\">\r\n        ORoD\r\n      </h1>\r\n    </header>\r\n    <div class=\"pop-up-error\">\r\n      <div\r\n        class=\"pop-up-error__error\"\r\n        v-for=\"error in errors\"\r\n        :key=\"error.id\"\r\n      >\r\n        <div class=\"pop-up-error__error_text\">\r\n          {{ error.text }}\r\n        </div>\r\n        <button\r\n          class=\"button__close\"\r\n          @click=\"removeError(error.id)\"\r\n        >\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"page__content\">\r\n      <main class=\"page__main\">\r\n        <div class=\"page__part\">\r\n          <div class=\"page__part_title\">\r\n            ЗАГРУЗКА ФАЙЛОВ\r\n          </div>\r\n          <div class=\"page__part_content\">\r\n            <LoadPart\r\n              @on-load-ont=\"updateOntology\"\r\n              @on-load-txt=\"pushDocument\"\r\n              @load-error=\"outputError\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"page__part\">\r\n          <div class=\"page__part_title\">\r\n            НАСТРОЙКА ПАРАМЕТРОВ\r\n          </div>\r\n          <div class=\"page__part_content\">\r\n            <ParameterPart\r\n              :p-n=\"N\"\r\n              :p-k=\"K\"\r\n              :p-b=\"B\"\r\n              :has-documents=\"(documents.length != 0)\"\r\n              :has-ontology=\"(ontology != null)\"\r\n              @ranking-all=\"rankingAll\"\r\n              @changed-n=\"changeN\"\r\n              @changed-k=\"changeK\"\r\n              @changed-b=\"changeB\"\r\n              @ranking-error=\"outputError\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"page__part\">\r\n          <div class=\"page__part_title\">\r\n            ОНТОЛОГИЯ\r\n          </div>\r\n          <div class=\"page__part_content\">\r\n            {{ !ontology ? 'ОНТОЛОГИЯ НЕ ЗАГРУЖЕНА' : ontology.name }}\r\n          </div>\r\n        </div>\r\n        <div class=\"page__part\">\r\n          <div class=\"page__part_title\">\r\n            ДОКУМЕНТЫ\r\n          </div>\r\n          <div class=\"page__part_content\">\r\n            <DocumentPart\r\n              :pr-documents=\"documents\"\r\n              @find-rank=\"findRank\"\r\n              @remove-document=\"removeDocument\"\r\n              @ranking-error=\"outputError\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n    <footer class=\"footer\">\r\n      2022 - kyrillWhite<br>\r\n      kiribel2000@gmail.com\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ErrorPopUp from '@/models/ErrorPopUp';\r\nimport DocumentPart from './DocumentPart.vue';\r\nimport LoadPart from './LoadPart.vue';\r\nimport ParameterPart from './ParameterPart.vue';\r\n\r\nexport default {\r\n  name: 'MainPart',\r\n  components: {\r\n    LoadPart,\r\n    ParameterPart,\r\n    DocumentPart,\r\n  },\r\n  data() {\r\n    return {\r\n      errors: [],\r\n      N: 10,\r\n      K: 10,\r\n      B: 1,\r\n      ontology: null,\r\n      documents: {},\r\n    };\r\n  },\r\n  watch: {\r\n    N(newN) {\r\n      if (newN !== 0 && !parseInt(newN)) {\r\n        this.changeN(0);\r\n      }\r\n      else {\r\n        for (let id in this.documents) {\r\n          this.documents[id].attachOntology(this.ontology, newN);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateOntology(ontology) {\r\n      this.ontology = ontology;\r\n\r\n      for (let id in this.documents) {\r\n        this.documents[id].attachOntology(this.ontology, this.N);\r\n      }\r\n    },\r\n    pushDocument(document) {\r\n      if (this.ontology) {\r\n        document.attachOntology(this.ontology, this.N);\r\n      }\r\n\r\n      this.documents[document.id] = document;\r\n    },\r\n    findRank(id) {\r\n      this.documents[id].findRank(this.N, this.K, this.B);\r\n    },\r\n    rankingAll() {\r\n      for (let id in this.documents) {\r\n        this.documents[id].findRank(this.N, this.K, this.B);\r\n      }\r\n    },\r\n    removeDocument(id) {\r\n      delete this.documents[id];\r\n    },\r\n    changeN(value) {\r\n      this.N = value;\r\n    },\r\n    changeK(value) {\r\n      this.K = value;\r\n    },\r\n    changeB(value) {\r\n      this.B = value;\r\n    },\r\n    outputError(errorText) {\r\n      let newError = new ErrorPopUp(errorText);\r\n      this.errors.push(newError);\r\n      setTimeout(()=> {\r\n        this.removeError(newError.id);\r\n      }, 4000);\r\n    },\r\n    removeError(id) {\r\n      const errorIndex = this.errors.findIndex(error => error.id == id);\r\n      \r\n      if (errorIndex !== -1) {\r\n        this.errors.splice(errorIndex, 1);\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>","export default class ErrorPopUp {\r\n  text = null;\r\n  id = null;\r\n\r\n  constructor(text) {\r\n    this.text = text;\r\n    this.id = Math.random();\r\n  }\r\n}","<template>\r\n  <table class=\"document\">\r\n    <thead>\r\n      <tr>\r\n        <th class=\"document__header\" scope=\"col\">№</th>\r\n        <th class=\"document__header document__name\" scope=\"col\" @click=\"sortByNameClicked\">\r\n          Название документа <span>{{sortSymbols[sortByName]}}</span>\r\n        </th>\r\n        <th class=\"document__header\" scope=\"col\" @click=\"sortByRankClicked\">\r\n          Ранг <span>{{sortSymbols[sortByRank]}}</span>\r\n        </th>\r\n        <th class=\"document__header\" scope=\"col\">Инф.</th>\r\n        <th class=\"document__header\" scope=\"col\">Удал.</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <DocumentElement\r\n        v-for=\"(document, index) in sortedDocuments\"\r\n        :key=\"document.id\"\r\n        :document=\"document\"\r\n        :index=\"index + 1\"\r\n        @doc-details-opened=\"openDocumentDetails\"\r\n        @doc-details-closed=\"closeDocumentDetails\"\r\n        @find-rank=\"findRank\"\r\n        @remove-document=\"removeDocument\"\r\n      />\r\n    </tbody>\r\n    \r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport DocumentElement from './DocumentElement.vue';\r\n\r\nexport default {\r\n  name: 'DocumentPart',\r\n  components: {\r\n    DocumentElement,\r\n  },\r\n  props: {\r\n    prDocuments: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      docWithOpenedDetailsId: null,\r\n      sortByName: 2,\r\n      sortByRank: 0,\r\n      sortSymbols: [' ', '▼', '▲'],\r\n      documents: this.prDocuments,\r\n    }\r\n  },\r\n  computed: {\r\n    sortedDocuments() {\r\n      let documents = Object.values(this.documents);\r\n\r\n      if (this.sortByName) {\r\n        documents.sort(this.compareDocsByName);\r\n      } else if (this.sortByRank) {\r\n        documents.sort(this.compareDocsByRank);\r\n      }\r\n\r\n      return documents;\r\n    },\r\n  },\r\n  methods: {\r\n    openDocumentDetails(id) {\r\n      if (this.docWithOpenedDetailsId) {\r\n        this.documents[this.docWithOpenedDetailsId].detailsAreOpened = false;\r\n      }\r\n      this.documents[id].detailsAreOpened = true;\r\n      this.docWithOpenedDetailsId = id;\r\n    },\r\n    closeDocumentDetails() {\r\n      this.documents[this.docWithOpenedDetailsId].detailsAreOpened = false;\r\n      this.docWithOpenedDetailsId = null;\r\n    },\r\n    findRank(id) {\r\n      this.$emit('find-rank', id);\r\n    },\r\n    removeDocument(id) {\r\n      if (this.docWithOpenedDetailsId == id) {\r\n        this.docWithOpenedDetailsId = null;\r\n      }\r\n      this.$emit('remove-document', id);\r\n    },\r\n    sortByNameClicked() {\r\n      this.sortByRank = 0;\r\n\r\n      switch (this.sortByName) {\r\n        case 0:\r\n        case 1:\r\n          this.sortByName = 2;\r\n          break;\r\n        case 2:\r\n          this.sortByName = 1;\r\n          break;\r\n      }\r\n    },\r\n    sortByRankClicked() {\r\n      this.sortByName = 0;\r\n\r\n      switch (this.sortByRank) {\r\n        case 1:\r\n          this.sortByRank = 2;\r\n          break;\r\n        case 0:\r\n        case 2:\r\n          this.sortByRank = 1;\r\n          break;\r\n      }\r\n    },\r\n    compareDocsByName(a, b) {\r\n      let res = 0;\r\n\r\n      if (a.name < b.name) {\r\n        res = -1;\r\n      } else if (a.name > b.name) {\r\n        res = 1;\r\n      }\r\n\r\n      if (this.sortByName == 1) {\r\n        return res * -1;\r\n      }\r\n\r\n      return res;\r\n    },\r\n    compareDocsByRank(a, b) {\r\n      let res = 0;\r\n\r\n      if (a?.ranking?.rank < b?.ranking?.rank) {\r\n        res = -1;\r\n      } else if (a?.ranking?.rank > b?.ranking?.rank) {\r\n        res = 1;\r\n      }\r\n\r\n      if (this.sortByRank == 1) {\r\n        return res * -1;\r\n      }\r\n\r\n      return res;\r\n    },\r\n  },\r\n}\r\n</script>","<template>\r\n  <tr :class=\"titleClasses\">\r\n    <th\r\n      class=\"document__field\"\r\n      :class=\"{'document__field_selected' : document.detailsAreOpened}\"\r\n      scope=\"row\"\r\n    >\r\n      {{index}}\r\n    </th>\r\n    <td class=\"document__field\">{{document.name}}</td>\r\n    <td class=\"document__field document__center\">\r\n      {{!document.ranking ? '-' : document.ranking.rank.toFixed(3)}}\r\n    </td>\r\n    <td class=\"document__option document__center\">\r\n      <button\r\n        :class=\"{\r\n          'button__close' : document.detailsAreOpened,\r\n          'button__more': !document.detailsAreOpened,\r\n        }\"\r\n        @click=\"detailsMenuClick\">\r\n      </button>\r\n    </td>\r\n    <td class=\"document__option document__center\">\r\n      <button class=\"button__remove\" @click=\"removeDocument\"></button>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td colspan=\"100\">\r\n      <div class=\"document__details\" v-if=\"document.detailsAreOpened\">\r\n        <div class=\"document__menu\">\r\n          <button\r\n            class=\"document__menu_item tab\"\r\n            :class=\"{'tab__active': openedDetailsPart == 1}\" \r\n            @click=\"openDetailsPart(1)\"\r\n          >\r\n            Исходный текст\r\n          </button>\r\n          <button\r\n            class=\"document__menu_item tab\"\r\n            :class=\"menuTabClasses(2)\" \r\n            @click=\"openDetailsPart(2)\"\r\n          >\r\n            Промеж. результат\r\n          </button>\r\n          <button\r\n            class=\"document__menu_item tab\"\r\n            :class=\"menuTabClasses(3)\" \r\n            @click=\"openDetailsPart(3)\"\r\n          >\r\n            Результат оценки\r\n          </button>\r\n        </div>\r\n        <div class=\"document__details_content\">\r\n          <div class=\"source-text\" v-if=\"(openedDetailsPart == 1)\"> \r\n            {{document.text}}\r\n          </div>\r\n          <IntermediateResult\r\n            :document=\"document\"\r\n            v-else-if=\"(openedDetailsPart == 2)\"\r\n          />\r\n          <RankResult\r\n            :document=\"document\"\r\n            v-else-if=\"(openedDetailsPart == 3)\"\r\n            @find-rank=\"findRank\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\nimport IntermediateResult from './DocumentDetails/IntermediateResult.vue';\r\nimport RankResult from './DocumentDetails/RankResult.vue';\r\n\r\nexport default {\r\n  name: 'DocumentElement',\r\n  components: {\r\n    IntermediateResult,\r\n    RankResult,\r\n  },\r\n  props: {\r\n    index: Number,\r\n    document: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      openedDetailsPart: 1,\r\n    }\r\n  },\r\n  computed: {\r\n    titleClasses() {\r\n      let classes = {};\r\n\r\n      if (this.document?.detailsAreOpened) {\r\n        classes['document__field_selected'] = true;\r\n      } else {\r\n        classes['document__field_odd'] = this.index % 2 == 0;\r\n      }\r\n\r\n      return classes;\r\n    },\r\n  },\r\n  methods: {\r\n    detailsMenuClick() {\r\n      this.$emit(`doc-details-${this.document.detailsAreOpened ? 'closed' : 'opened'}`,\r\n        this.document.id);\r\n      if (this.document.detailsAreOpened) {\r\n        this.openedDetailsPart = 1;\r\n      }\r\n    },\r\n    openDetailsPart(detailsPart) {\r\n      if (this.document.attachedOntology || detailsPart == 1) {\r\n        this.openedDetailsPart = detailsPart;\r\n      }\r\n    },\r\n    findRank() {\r\n      this.$emit('find-rank', this.document.id);\r\n    },\r\n    removeDocument() {\r\n      this.$emit('remove-document', this.document.id);\r\n    },\r\n    menuTabClasses(index) {\r\n      let classes = {};\r\n\r\n      if (this.document?.attachedOntology) {\r\n        classes['tab__active'] = this.openedDetailsPart == index;\r\n      } else {\r\n        classes['tab__not-active'] = true;\r\n      }\r\n\r\n      return classes;\r\n    },\r\n  },\r\n}\r\n</script>","<template>\r\n  <div>\r\n    <div class=\"intermediate-result\">\r\n      <div class=\"intermediate-result__title\">\r\n        Привязавшаяся онтология:\r\n      </div>\r\n        <button\r\n          class=\"button\"\r\n          @click=\"downloadAttachedOntology\"\r\n        >\r\n          Скачать\r\n        </button>\r\n    </div>\r\n    <div class=\"intermediate-result\">\r\n      <div class=\"intermediate-result__title\">\r\n        Привязавшиеся понятия:\r\n      </div>\r\n        <div v-for=\"(term, index) in document?.terms\" :key=\"index\">\r\n          {{`${index + 1}. ${term}`}}\r\n        </div>\r\n    </div>\r\n    <div class=\"intermediate-result\">\r\n      <div class=\"intermediate-result__title\">\r\n        Отфильтрованные предложения:\r\n      </div>\r\n      <div v-for=\"(sentence, index) in document?.sentences\" :key=\"index\">\r\n        {{`${index + 1}. `}}\r\n        <span\r\n          v-for=\"(sentencePart, partIndex) in sentence.markedText\" :key=\"partIndex\"\r\n          :class=\"{'marked-text': sentencePart.mark}\"\r\n          >\r\n            {{ sentencePart.text }}\r\n        </span>.\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'IntermediateResult',\r\n  props: {\r\n    document: Object,\r\n  },\r\n  methods: {\r\n    downloadAttachedOntology() {\r\n      let json = JSON.stringify({\r\n        nodes: this.document.attachedOntology.nodes,\r\n        relations: this.document.attachedOntology.relations,\r\n      });\r\n      let fileName = `${this.document.attachedOntology.name.replace('.ont', '')}_${(new Date())\r\n        .toLocaleString().replaceAll(/[ ,:.]/g, '_')}.ont`;\r\n      let file = new File([json], {name: fileName, type: \"octet/stream\"});\r\n      let url = window.URL.createObjectURL(file);\r\n\r\n      var a = document.createElement(\"a\");\r\n      document.body.appendChild(a);\r\n      a.href = url;\r\n      a.download = fileName;\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    },\r\n  },\r\n}\r\n</script>","import { render } from \"./IntermediateResult.vue?vue&type=template&id=0bcdae4b\"\nimport script from \"./IntermediateResult.vue?vue&type=script&lang=js\"\nexport * from \"./IntermediateResult.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <table class=\"rank-result\" v-if=\"document?.ranking\">\r\n    <thead>\r\n      <tr>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Понятие 1\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Понятие 2\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Степ. близости (S<sub>ij</sub>)\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Норм. степ. близости (S'<sub>ij</sub>)\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Кол-во путей (P'<sub>ij</sub>)\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Мощность понятия (Ub)\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          Вес дуги (E<sub>ij</sub>)\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          B<sub>i*</sub>\r\n        </th>\r\n        <th class=\"rank-result__start rank-result__header\" scope=\"col\">\r\n          B<sub>*j</sub>\r\n        </th>          \r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(termPair, index) in document.ranking.pairs\" :key=\"index\">\r\n        <td class=\"rank-result__cell rank-result__start\" scope=\"row\">\r\n          {{termPair.term1}}\r\n        </td>\r\n        <td class=\"rank-result__cell rank-result__start\" scope=\"row\">\r\n          {{termPair.term2}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.s.toFixed(3)}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.sNorm.toFixed(3)}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.pathsCount.toFixed(3)}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.power.toFixed(3)}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.weight.toFixed(3)}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.betaI.toFixed(3)}}\r\n        </td>\r\n        <td class=\"rank-result__cell\">\r\n          {{termPair.betaJ.toFixed(3)}}\r\n        </td>\r\n      </tr> \r\n    </tbody>\r\n  </table>\r\n  <button class=\"button document__details_button\" v-else @click=\"findRank\">Вычислить оценку</button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RankResult',\r\n  props: {\r\n    document: Object,\r\n  },\r\n  methods: {\r\n    findRank() {\r\n      this.$emit('find-rank');\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./RankResult.vue?vue&type=template&id=c246349c\"\nimport script from \"./RankResult.vue?vue&type=script&lang=js\"\nexport * from \"./RankResult.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentElement.vue?vue&type=template&id=15a01bb0\"\nimport script from \"./DocumentElement.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentElement.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPart.vue?vue&type=template&id=3060f372\"\nimport script from \"./DocumentPart.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"load-part\">\r\n    <LoadForm\r\n      :load-id=\"0\"\r\n      :load-object=\"`онтологию`\"\r\n      :extension=\"`.ont`\"\r\n      :multiple-files=\"false\"\r\n      @on-load=\"loadOntology\"\r\n      @load-error=\"loadFormError\"\r\n    />\r\n    <LoadForm\r\n      :load-id=\"1\"\r\n      :load-object=\"`документы`\"\r\n      :extension=\"`.txt`\"\r\n      :multiple-files=\"true\"\r\n      @on-load=\"loadDocuments\"\r\n      @load-error=\"loadFormError\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoadFiles from '@/services/LoadFiles';\r\nimport LoadForm from './LoadForm.vue';\r\n\r\nexport default {\r\n  name: 'LoadPart',\r\n  components: {\r\n    LoadForm\r\n  },\r\n  methods: {\r\n    async loadOntology(files) {\r\n      await LoadFiles.loadOntology(files[0], (event) => {return event}).then(\r\n        result => {\r\n          this.$emit('on-load-ont', result);\r\n        },\r\n        error => {\r\n          this.$emit('load-error', error);\r\n        }\r\n      );\r\n    },\r\n    async loadDocuments(files) {\r\n      for (let file of files) {\r\n        await LoadFiles.loadDocument(file, (event) => {return event}).then(\r\n          result => {\r\n            this.$emit('on-load-txt', result);\r\n          },\r\n          error => {\r\n            this.$emit('load-error', error);\r\n          }\r\n        );\r\n      }\r\n    },\r\n    loadFormError(text) {\r\n      this.$emit('load-error', text);\r\n    },\r\n  }\r\n}\r\n</script>","export default class Ontology {\r\n  name = null;\r\n  nodes = null;\r\n  relations = null;\r\n\r\n  constructor(name, nodes, relations) {\r\n    this.name = name;\r\n    this.nodes = nodes;\r\n    this.relations = relations;\r\n  }\r\n\r\n  getCopy() {\r\n    return new Ontology(\r\n      this.name,\r\n      JSON.parse(JSON.stringify(this.nodes)),\r\n      JSON.parse(JSON.stringify(this.relations)),\r\n    );\r\n  }\r\n}","import { newStemmer } from \"snowball-stemmers\";\r\n\r\nexport default class Attach {\r\n  static attachOntology(documentText, ontology, N) {\r\n    if (!documentText) {\r\n      throw \"Empty document text\";\r\n    }\r\n\r\n    if (!ontology || !ontology.nodes || !ontology.relations) {\r\n      throw \"Invalid ontology object\";\r\n    }\r\n\r\n    let sentences = documentText.split(/\\. */).filter((s) => s);\r\n    let ontologyTerms = ontology.nodes.map((n, i) => ({name: n.name, index: i}));\r\n\r\n    let stemmedOntology = this.stemOntology(ontologyTerms);\r\n    let splitedSentences = sentences.map((s) => s.split(/([^а-яА-Яa-zA-Z0-9-]+)/));\r\n    let stemmedSentences = sentences.map((s) => this.stemSentence(s.split(/[^а-яА-Яa-zA-Z0-9-]+/)));\r\n\r\n    stemmedOntology = stemmedOntology.filter((t) =>\r\n      t.words.length > 0 && stemmedSentences.some((s) => this.isArrayIncludeArray(s, t.words)));\r\n    \r\n    let attachedTerms = stemmedOntology.map((t) => t.sourceTerm);\r\n    let markedSentences = this.getMarkedSentences(splitedSentences, stemmedSentences, stemmedOntology);\r\n\r\n    let filteredSentences = sentences.map((s, i) => ({text: s, markedText: markedSentences[i],\r\n      terms: attachedTerms.filter((_, j) => this.isArrayIncludeArray(stemmedSentences[i], stemmedOntology[j].words))}))\r\n      .filter((s) => s.terms.length);\r\n      \r\n    let attachedOntology = ontology.getCopy();\r\n\r\n    let stemmedTerms = Array.apply(null, Array(attachedOntology.nodes.length)).map(() => false);\r\n\r\n    stemmedOntology.forEach(term => {\r\n      stemmedTerms[term.index] = true;\r\n    });\r\n\r\n    for (let i in attachedOntology.nodes) {\r\n      if (!stemmedTerms[i]) {\r\n        attachedOntology.nodes[i].name = '';\r\n      }\r\n    }\r\n\r\n    const neededNodes = this.findNeededNodes(attachedOntology, N);\r\n    attachedOntology.nodes = attachedOntology.nodes.filter(node => neededNodes.includes(node.id));\r\n    attachedOntology.relations = attachedOntology.relations.filter(rel =>\r\n      neededNodes.includes(rel.source_node_id) && neededNodes.includes(rel.destination_node_id));\r\n\r\n    return {\r\n      attachedOntology: attachedOntology,\r\n      terms: attachedTerms,\r\n      sentences: filteredSentences,\r\n    };\r\n  }\r\n\r\n  static findNeededNodes(ontology, N) {\r\n    let relations = {};\r\n\r\n    for (let node of ontology.nodes) {\r\n      relations[node.id] = [];\r\n    }\r\n\r\n    for (let relation of ontology.relations) {\r\n      relations[relation.source_node_id].push(relation.destination_node_id);\r\n    }\r\n\r\n    let usedNodes = new Set();\r\n\r\n    for (let node of ontology.nodes) {\r\n      if (node.name !== '') {\r\n        let nodeUsedNodes = this.findUsedNodes(ontology, relations, node.id, N);\r\n        nodeUsedNodes.forEach(nod => usedNodes.add(nod));\r\n      }\r\n    }\r\n\r\n    return Array.from(usedNodes);\r\n  }\r\n\r\n  static findUsedNodes(ontology, relations, id, N) {\r\n    const ontologyNodesNames = {};\r\n\r\n    ontology.nodes.forEach(node => {\r\n      ontologyNodesNames[node.id] = node.name;\r\n    });\r\n\r\n    let usedNodes = new Set();\r\n    usedNodes.add(id);\r\n    let query = [];\r\n    query.push({ prevs: [], depth: 0, id: id });\r\n\r\n    while (query.length != 0) {\r\n      let p = query.pop();\r\n      let depth = p.depth;\r\n      let u = p.id;\r\n      let prevs = p.prevs;\r\n\r\n      if (ontologyNodesNames[u] !== '') {\r\n        prevs.forEach(prev => usedNodes.add(prev));\r\n      }\r\n\r\n      if (depth != N) {\r\n        query.push(...relations[u].map((id) => (\r\n          {\r\n            prevs: [u, ...prevs],\r\n            depth: depth + 1,\r\n            id: id\r\n          }\r\n        )));\r\n      }\r\n    }\r\n\r\n    return usedNodes;\r\n  }\r\n\r\n  static stemOntology(terms) {\r\n    let rusStemmer = newStemmer('russian');\r\n    let stemTerms = [];\r\n    for (let term of terms) {\r\n      let words = term.name.toLowerCase().split(' ').filter((t) => t).map((t) => rusStemmer.stem(t));\r\n      stemTerms.push({sourceTerm: term.name, words: words, index: term.index});\r\n    }\r\n    return stemTerms;\r\n  }\r\n\r\n  static stemSentence(words) {\r\n    let rusStemmer = newStemmer('russian');\r\n    return words.map((w) => rusStemmer.stem(w.toLowerCase())).filter((t) => t);\r\n  }\r\n\r\n  static isArrayIncludeArray(array, subarray) {\r\n    if (subarray.length > array.length) {\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i <= array.length - subarray.length; i++) {\r\n      let slicesArray = array.slice(i, i + subarray.length);\r\n\r\n      if (slicesArray.every((element, index) => element === subarray[index])) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  static getMarkedSentences(splitedSentences, stemmedSentences, stemmedOntology) {\r\n    let rusStemmer = newStemmer('russian');\r\n    let markedSentences = [];\r\n\r\n    for (let i in splitedSentences) {\r\n      let ontologyTerms = stemmedOntology.filter(so => this.isArrayIncludeArray(stemmedSentences[i], so.words));\r\n      let stemmedTextArray = splitedSentences[i].map((w) => {\r\n        if (/[^а-яА-Яa-zA-Z0-9-]+/.test(w)) {\r\n          return null;\r\n        } else {\r\n          return rusStemmer.stem(w.toLowerCase());\r\n        }        \r\n      });\r\n      let textArray = splitedSentences[i].map((w) => ({word: w, mark: false}));\r\n\r\n      for (let ontologyTerm of ontologyTerms) {\r\n        for (let j in stemmedTextArray) {\r\n          if (!stemmedTextArray[j]) {\r\n            continue;\r\n          }\r\n\r\n          let fromJ = parseInt(j);\r\n          let toJ = parseInt(j);\r\n\r\n          let ow = 0;\r\n\r\n          while (\r\n            toJ < stemmedTextArray.length &&\r\n            ow < ontologyTerm.words.length &&\r\n            stemmedTextArray[toJ] == ontologyTerm.words[ow]\r\n          ) {\r\n            toJ += 2;\r\n            ow++;\r\n          }\r\n\r\n          if (ow == ontologyTerm.words.length) {\r\n            for (let k = fromJ; k <= toJ - 2; k++) {\r\n              textArray[k].mark = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      let markedText = [];\r\n\r\n      for (let word of textArray) {\r\n        if (markedText.length != 0 && markedText[markedText.length - 1].mark == word.mark) {\r\n          markedText[markedText.length - 1].text += word.word;\r\n        } else {\r\n          markedText.push({text: word.word, mark: word.mark});\r\n        }       \r\n      }\r\n\r\n      markedSentences.push(markedText);\r\n    }\r\n\r\n    return markedSentences;\r\n  }\r\n}","export default class Rank {\r\n  static findRank(document, N, K, B) {\r\n    if (!document || !document.attachedOntology ||\r\n      !document.attachedOntology.nodes || !document.attachedOntology.relations) {\r\n      throw \"Invalid document object\";\r\n    }\r\n    let ontology = document.attachedOntology;\r\n    let termPairs = [];\r\n\r\n    let weights = this.findWeights(document);\r\n\r\n    for (let i = 0; i < ontology.nodes.length; i++) {\r\n      for (let j = 0; j < ontology.nodes.length; j++) {\r\n        if (ontology.nodes[i].name && ontology.nodes[j].name && i != j) {\r\n          let coefs = this.semanticProximity(document, weights, i, j, N, K, B);\r\n\r\n          if (coefs) {\r\n            termPairs.push({term1: ontology.nodes[i].name,\r\n              term2: ontology.nodes[j].name, ...coefs});\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    termPairs = this.normSemanticProximity(termPairs);\r\n    let rank = termPairs.length ? termPairs.reduce((sum, t) => sum + t.sNorm, 0) / termPairs.length : 0;\r\n\r\n    return {\r\n      rank: rank,\r\n      pairs: termPairs,      \r\n    };\r\n  }\r\n  \r\n  static semanticProximity(document, weights, i, j, N, K, B) {\r\n    let ontology = document.attachedOntology;\r\n\r\n    const nodeTerm1 = ontology.nodes[i].name;\r\n    const nodeTerm2 = ontology.nodes[j].name;\r\n\r\n    const nodeId1 = ontology.nodes[i].id;\r\n    const nodeId2 = ontology.nodes[j].id;\r\n\r\n    const index1 = document.sentences.map((s, _i) => (s.terms.includes(nodeTerm1) ? _i : null)).filter((_i) => _i !== null)[0];\r\n    const index2 = document.sentences.map((s, _i) => (s.terms.includes(nodeTerm2) ? _i : null)).filter((_i) => _i !== null)[0];\r\n\r\n    if (index1 === undefined || index2 === undefined || Math.abs(index1 - index2) > K) {\r\n      return null;\r\n    }\r\n\r\n    let relations = {};\r\n\r\n    for (let node of ontology.nodes) {\r\n      relations[node.id] = [];\r\n    }\r\n\r\n    for (let relation of ontology.relations) {\r\n      relations[relation.source_node_id].push(relation.destination_node_id);\r\n    }\r\n\r\n    let pathCount = this.findPathsCount(relations, nodeId1, nodeId2, N);\r\n\r\n    if (pathCount === 0) {\r\n      return null;\r\n    }\r\n\r\n    let bi = weights[i].filter((w) => w >= B).length;\r\n    let bj = weights[j].filter((w) => w >= B).length;\r\n    let mu = weights[i].filter((w) => w >= B).reduce((sum, a) => sum + a, 0) / weights[i].length;\r\n    let e = weights[i][j];\r\n    let semanticProximity = (bi + bj) ? Math.sqrt(pathCount) * 2 * mu * e / (bi + bj) : 0;\r\n\r\n    return {\r\n      s: semanticProximity,\r\n      pathsCount: pathCount,\r\n      power: mu,\r\n      weight: e,\r\n      betaI: bi,\r\n      betaJ: bj,\r\n    }\r\n  }\r\n\r\n  static findPathsCount(relations, id1, id2, N) {\r\n    let pathCount = 0;\r\n    let query = [];\r\n    query.push({ depth: 0, id: id1 });\r\n\r\n    while (query.length != 0) {\r\n      let p = query.pop();\r\n      let depth = p.depth;\r\n      let u = p.id;\r\n\r\n      if (u == id2) {\r\n        pathCount++;\r\n      }\r\n\r\n      if (depth != N) {\r\n        query.push(...relations[u].map((id) => ({depth: depth + 1, id: id})));\r\n      }\r\n    }\r\n\r\n    return pathCount;\r\n  }\r\n\r\n  static normSemanticProximity(_termPairs) {\r\n    let termPairs = [..._termPairs];\r\n    let sMin = termPairs.reduce((min, cur) => (min.s < cur.s ? min : cur), Number.MAX_VALUE).s;\r\n    let sMax = termPairs.reduce((max, cur) => (max.s > cur.s ? max : cur), Number.MIN_VALUE).s;\r\n\r\n    if (sMax == 0) {\r\n      for (let i in termPairs) {\r\n        termPairs[i].sNorm = 0;\r\n      }\r\n    }\r\n    else {\r\n      for (let i in termPairs) {\r\n        termPairs[i].sNorm = (termPairs[i].s - sMin) / sMax;\r\n      }\r\n    }\r\n    \r\n    return termPairs;\r\n  }\r\n\r\n  static findWeights(document) {\r\n    let ontology = document.attachedOntology;\r\n    let nCount = ontology.nodes.length;\r\n    let weights = Array(nCount).fill(0).map(() => Array(nCount).fill(0));\r\n\r\n    for (let i = 0; i < nCount; i++) {\r\n      for (let j = 0; j < i; j++) {\r\n        let nodeNameI = ontology.nodes[i].name;\r\n        let nodeNameJ = ontology.nodes[j].name;\r\n\r\n        if (nodeNameI && nodeNameJ) {\r\n          weights[i][j] = weights[j][i] = document.sentences.filter((s) =>\r\n            s.terms.includes(nodeNameI) && s.terms.includes(nodeNameJ)).length;\r\n        }\r\n      }\r\n    }\r\n\r\n    return weights;\r\n  }\r\n}","import Attach from \"@/services/Attach\";\r\nimport Rank from \"@/services/Rank\";\r\n\r\nexport default class RankingDocument {\r\n  id = Math.random();\r\n  name = null;\r\n  text = null;\r\n  ranking = null;\r\n  attachedOntology = null;\r\n  terms = null;\r\n  sentences = null;\r\n  detailsAreOpened = false;\r\n\r\n  constructor(name, text) {\r\n    this.name = name;\r\n    this.text = text;\r\n  }\r\n\r\n  attachOntology(ontology, N) {\r\n    try {\r\n      let {attachedOntology, terms, sentences} = Attach.attachOntology(this.text, ontology, N);\r\n      this.attachedOntology = attachedOntology;\r\n      this.terms = terms;\r\n      this.sentences = sentences;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  findRank(N, K, B) {\r\n    try {\r\n      this.ranking = Rank.findRank(this, N, K, B);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n}","import Ontology from \"@/models/Ontology\";\r\nimport RankingDocument from \"@/models/RankingDocument\";\r\n\r\nexport default class LoadFiles {\r\n  static async loadDocument(file, onProgress) {\r\n    let loadingPromise = this.loadFile(file, onProgress);\r\n\r\n    return loadingPromise.then(\r\n      result => {\r\n        return new RankingDocument(file.name, result);\r\n      },\r\n      () => {\r\n        return 'Ошибка загрузки документа';\r\n      }\r\n    );\r\n  }\r\n\r\n  static async loadOntology(file, onProgress) {\r\n    let loadingPromise = this.loadFile(file, onProgress);\r\n\r\n    return loadingPromise.then(\r\n      result => new Promise((resolve, reject) => {\r\n        try {\r\n          let parsedOnt = JSON.parse(result);\r\n          resolve(new Ontology(file.name, parsedOnt.nodes, parsedOnt.relations));\r\n        } catch {\r\n          reject('Ошибка загрузки онтологии');\r\n        }\r\n      }),\r\n      () => 'Ошибка загрузки онтологии'\r\n    );\r\n  }\r\n\r\n  static async loadFile(file, onProgress) {\r\n    return new Promise((resolve, reject) => {\r\n      let reader = new FileReader();\r\n  \r\n      reader.onload = () => {\r\n        resolve(reader.result);\r\n      };\r\n  \r\n      reader.onerror = reject;\r\n      reader.onprogress = onProgress;\r\n  \r\n      reader.readAsText(file);\r\n    });\r\n  }\r\n\r\n  static validateFileName(fileName, extension) {\r\n    let regexp = new RegExp(`^.+${extension}$`);\r\n    return fileName.match(regexp);\r\n  }\r\n}","<template>\r\n  <div class=\"load-part__element\">\r\n    <label \r\n      class=\"load-part__button button\" \r\n      :for=\"`load-form_${loadId}`\"\r\n    >\r\n      Загрузить {{loadObject}}\r\n    </label>\r\n    <input\r\n      type=\"file\"\r\n      hidden\r\n      :id=\"`load-form_${loadId}`\"\r\n      :ref=\"`load-form_${loadId}`\"\r\n      :accept=\"extension\"\r\n      :multiple=\"multipleFiles\"\r\n      @change=\"loadFile\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoadFiles from '@/services/LoadFiles';\r\n\r\nexport default {\r\n  name: 'LoadForm',\r\n  props: {\r\n    multipleFiles: Boolean,\r\n    extension: String,\r\n    loadId: Number,\r\n    loadObject: String,\r\n  },\r\n  methods: {\r\n    loadFile() {\r\n      let files = [...this.$refs[`load-form_${this.loadId}`].files];\r\n\r\n      if (files.every((file) => LoadFiles.validateFileName(file.name, this.extension))) {\r\n        this.$emit('on-load', this.$refs[`load-form_${this.loadId}`].files);\r\n      } else {\r\n        this.$emit('load-error', `Ожидался файл с расширением ${this.extension}`);\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import { render } from \"./LoadForm.vue?vue&type=template&id=205eec76\"\nimport script from \"./LoadForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoadForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LoadPart.vue?vue&type=template&id=fd8e58aa\"\nimport script from \"./LoadPart.vue?vue&type=script&lang=js\"\nexport * from \"./LoadPart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"parameter-part\">\r\n    <div class=\"parameter-part__parameters\">\r\n      <ParameterText\r\n        :name=\"`N`\"\r\n        :value=\"N\"\r\n        @parameter-changed=\"changeN\"\r\n      />\r\n      <ParameterText \r\n        :name=\"`K`\" \r\n        :value=\"K\" \r\n        @parameter-changed=\"changeK\"\r\n      />\r\n      <ParameterText \r\n        :name=\"`B`\" \r\n        :value=\"B\"\r\n        @parameter-changed=\"changeB\"\r\n      />\r\n    </div>\r\n    <button\r\n      class=\"button parameter-part__ranking\"\r\n      :class=\"{'button__not-active' : !canRanking}\"\r\n      :disabled=\"!canRanking\"\r\n      @click=\"rankingAll\"\r\n    >\r\n      Выполнить ранжирование\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ParameterText from './ParameterText.vue';\r\n\r\nexport default {\r\n  name: 'ParameterPart',\r\n  components: {\r\n    ParameterText,\r\n  },\r\n  props: {\r\n    pN: Number,\r\n    pK: Number,\r\n    pB: Number,\r\n    hasDocuments: Boolean,\r\n    hasOntology: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      N: this.pN,\r\n      K: this.pK,\r\n      B: this.pB,\r\n    }\r\n  },\r\n  watch: {\r\n    pN(newpN) {\r\n      this.N = newpN;\r\n    },\r\n    pK(newpK) {\r\n      this.K = newpK;\r\n    },\r\n    pB(newpB) {\r\n      this.B = newpB;\r\n    },\r\n  },\r\n  computed: {\r\n    canRanking() {\r\n      return this.hasOntology && this.hasDocuments;\r\n    },\r\n  },\r\n  methods: {\r\n    changeN(value) {\r\n      this.N = value;\r\n      this.$emit('changed-n', this.N);\r\n    },\r\n    changeK(value) {\r\n      this.K = value;\r\n      this.$emit('changed-k', this.K);\r\n    },\r\n    changeB(value) {\r\n      this.B = value;\r\n      this.$emit('changed-b', this.B);\r\n    },\r\n    rankingAll() {\r\n      if (this.N !== 0 && !parseInt(this.N)) {\r\n        this.changeN(0);\r\n      }\r\n\r\n      if (this.K !== 0 && !parseInt(this.K)) {\r\n        this.changeK(0);\r\n      }\r\n\r\n      if (this.B !== 0 && !parseInt(this.B)) {\r\n        this.changeB(0);\r\n      }\r\n\r\n      this.$emit('ranking-all');\r\n    },\r\n  },\r\n}\r\n</script>","<template>\r\n  <div class=\"parameter\">\r\n    <div class=\"parameter__name\">{{name}}</div>\r\n    <input\r\n      class=\"parameter__input text-input\"\r\n      type=\"text\"\r\n      v-model=\"parameter\"\r\n      @change=\"parameterChanged\"\r\n      @keypress=\"onlyNumber\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ParameterText',\r\n  props: {\r\n    value: Number,\r\n    name: String,\r\n  },\r\n  data() {\r\n    return {\r\n      parameter: this.value,\r\n    }\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.parameter = newValue;\r\n    },\r\n  },\r\n  methods: {\r\n    parameterChanged() {\r\n      this.$emit('parameter-changed', this.parameter);\r\n    },\r\n    onlyNumber($event) {\r\n      let keyCode = ($event.keyCode ? $event.keyCode : $event.which);\r\n\r\n      if ((keyCode < 48 || keyCode > 57)) {\r\n        $event.preventDefault();\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./ParameterText.vue?vue&type=template&id=727237c6\"\nimport script from \"./ParameterText.vue?vue&type=script&lang=js\"\nexport * from \"./ParameterText.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ParameterPart.vue?vue&type=template&id=ff0d1470\"\nimport script from \"./ParameterPart.vue?vue&type=script&lang=js\"\nexport * from \"./ParameterPart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MainPart.vue?vue&type=template&id=92110e38\"\nimport script from \"./MainPart.vue?vue&type=script&lang=js\"\nexport * from \"./MainPart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=1f41ff00\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kirill\\\\Desktop\\\\ORoD\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport './assets/css/index.css';\r\nimport './assets/css/normalize.css';\r\n\r\ncreateApp(App).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkorod\"] = self[\"webpackChunkorod\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1681); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_main_part","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","$data","error","key","id","_hoisted_4","text","onClick","$options","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createVNode","_component_LoadPart","onOnLoadOnt","onOnLoadTxt","onLoadError","_hoisted_11","_hoisted_12","_hoisted_13","_component_ParameterPart","length","onRankingAll","onChangedN","onChangedK","onChangedB","onRankingError","_hoisted_14","_hoisted_15","_hoisted_16","name","_hoisted_17","_hoisted_18","_hoisted_19","_component_DocumentPart","onFindRank","onRemoveDocument","_hoisted_20","ErrorPopUp","constructor","this","Math","random","scope","document","index","_component_DocumentElement","onDocDetailsOpened","onDocDetailsClosed","colspan","$props","detailsAreOpened","ranking","rank","toFixed","_hoisted_5","_component_IntermediateResult","_component_RankResult","terms","term","sentences","sentence","markedText","sentencePart","partIndex","mark","props","Object","methods","downloadAttachedOntology","json","JSON","stringify","nodes","attachedOntology","relations","fileName","replace","Date","toLocaleString","replaceAll","file","File","type","url","window","URL","createObjectURL","a","createElement","body","appendChild","href","download","click","revokeObjectURL","removeChild","__exports__","pairs","termPair","term1","term2","s","sNorm","pathsCount","power","weight","betaI","betaJ","findRank","$emit","components","IntermediateResult","RankResult","Number","data","openedDetailsPart","computed","titleClasses","classes","detailsMenuClick","openDetailsPart","detailsPart","removeDocument","menuTabClasses","DocumentElement","prDocuments","docWithOpenedDetailsId","sortByName","sortByRank","sortSymbols","documents","sortedDocuments","values","sort","compareDocsByName","compareDocsByRank","openDocumentDetails","closeDocumentDetails","sortByNameClicked","sortByRankClicked","b","res","_component_LoadForm","extension","onOnLoad","Ontology","getCopy","parse","Attach","static","documentText","ontology","N","split","filter","ontologyTerms","map","n","i","stemmedOntology","stemOntology","splitedSentences","stemmedSentences","stemSentence","t","words","some","isArrayIncludeArray","attachedTerms","sourceTerm","markedSentences","getMarkedSentences","filteredSentences","_","j","stemmedTerms","Array","apply","forEach","neededNodes","findNeededNodes","node","includes","rel","source_node_id","destination_node_id","relation","push","usedNodes","Set","nodeUsedNodes","findUsedNodes","nod","add","from","ontologyNodesNames","query","prevs","depth","p","pop","u","prev","rusStemmer","newStemmer","stemTerms","toLowerCase","stem","w","array","subarray","slicesArray","slice","every","element","so","stemmedTextArray","test","textArray","word","ontologyTerm","fromJ","parseInt","toJ","ow","k","Rank","K","B","termPairs","weights","findWeights","coefs","semanticProximity","normSemanticProximity","reduce","sum","nodeTerm1","nodeTerm2","nodeId1","nodeId2","index1","_i","index2","undefined","abs","pathCount","findPathsCount","bi","bj","mu","e","sqrt","id1","id2","_termPairs","sMin","min","cur","MAX_VALUE","sMax","max","MIN_VALUE","nCount","fill","nodeNameI","nodeNameJ","RankingDocument","attachOntology","console","log","LoadFiles","onProgress","loadingPromise","loadFile","then","result","Promise","resolve","reject","parsedOnt","reader","FileReader","onload","onerror","onprogress","readAsText","regexp","RegExp","match","for","hidden","ref","accept","multiple","onChange","multipleFiles","Boolean","String","loadId","loadObject","files","$refs","validateFileName","LoadForm","async","loadOntology","event","loadDocument","loadFormError","_component_ParameterText","value","onParameterChanged","disabled","onKeypress","parameter","watch","newValue","parameterChanged","onlyNumber","$event","keyCode","which","preventDefault","ParameterText","pN","pK","pB","hasDocuments","hasOntology","newpN","newpK","newpB","canRanking","changeN","changeK","changeB","rankingAll","LoadPart","ParameterPart","DocumentPart","errors","newN","updateOntology","pushDocument","outputError","errorText","newError","setTimeout","removeError","errorIndex","findIndex","splice","MainPart","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}